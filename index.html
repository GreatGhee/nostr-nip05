<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GreatGhee</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="images/new_favicon.jpg">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

</head>
<body>
    <!-- Modern Background Elements -->
    <div class="background-overlay">
        <div class="geometric-shape shape-1"></div>
        <div class="geometric-shape shape-2"></div>
        <div class="geometric-shape shape-3"></div>
        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>

    <header>
        <section class="hero">
            <img src="images/new_favicon.jpg" alt="GreatGhee Logo: Grass-Fed Jersey Cow Ghee, Handmade Small Batch" class="hero-logo">
            <div class="hero-text">
                <h1>GREATGHEE</h1>
                <p>Sourced and produced in small batches from regenerative dairy farms in the Virginia Shenandoah Valley, United States.</p>
            </div>
        </section>
    </header>
    
    <main>

    <section class="info-section products">
        <h2>Our Products</h2>
        <p>Choose from either our regular pasture-raised ghee or premium 100% grass-fed, pasture-raised ghee and pay seamlessly with Bitcoin via Zaprite. All prices include free shipping.</p>
            <div class="products-grid">

            <!-- Product 1: Regular Pasture-Raised Ghee -->
            <div class="product-card">
                <h3>Regular Pasture-Raised Ghee</h3>
                <div class="image-slider" id="sliderReg" data-index="0">
                    <button class="arrow left">&#10094;</button>
                    <img src="images/16ozRegular.jpg" 
                         data-alt-src="images/16oz_regular_back.jpg" 
                         alt="Regular Pasture-Raised Ghee" 
                         class="product-img gallery-img"
                         loading="lazy">
                    <button class="arrow right">&#10095;</button>
                </div>
                <select id="selectReg" class="product-select">
                    <option data-price="18" data-link="https://pay.zaprite.com/pl_vCTaUnsSX8" data-front="images/16oz_regular_front.jpg" data-back="images/16oz_regular_back.jpg">8 oz</option>
                    <option selected data-price="27" data-link="https://pay.zaprite.com/pl_hEKfCZ26ml" data-front="images/16ozRegular.jpg" data-back="images/16oz_regular_back.jpg">16 oz</option>
                    <option data-price="41" data-link="https://pay.zaprite.com/pl_tM7JvnSk9V" data-front="images/32ozRegular.jpg" data-back="images/32oz_regular_back.jpg">32 oz</option>
                </select>
                <a href="https://pay.zaprite.com/pl_hEKfCZ26ml" target="_blank" rel="noopener noreferrer" class="buy-button" id="buyButtonReg">Buy Now</a>
            </div>

            <!-- Product 2: Placeholder for Liver Crisps -->
            <!-- <div class="product-card"> -->
                <!-- <h3>Liver Crisps</h3> -->
                <!-- <div class="image-placeholder">Coming Soon</div> -->
                <!-- <select id="selectLiver" class="product-select"> -->
                    <!-- <option selected data-price="26" data-link="https://pay.zaprite.com/pl_zGS7ksyYLe">1-pack</option> -->
                    <!-- <option data-price="40" data-link="https://pay.zaprite.com/pl_Iy5x8bydcJ">3-pack</option> -->
                    <!-- <option data-price="70" data-link="#">6-pack</option> -->
                <!-- </select> -->
                <!-- <a href="#" target="_blank" rel="noopener noreferrer" class="buy-button disabled" id="buyButtonLiver">Coming Soon</a> -->
            <!-- </div> -->

            <!-- Product 3: 100% Grass-Fed Pasture-Raised Ghee -->
            <div class="product-card">
                <h3>100% Grass-Fed Pasture-Raised Ghee (OUT OF STOCK)</h3>
                <div class="image-slider" id="sliderGrass" data-index="1">
                    <button class="arrow left">&#10094;</button>
                    <img src="images/16oz_grassfed_front.jpg" 
                         data-alt-src="images/16oz_grassfed_back.jpg" 
                         alt="Jar of GreatGhee grass-fed Jersey cow ghee" 
                         class="product-img gallery-img"
                         loading="lazy">
                    <button class="arrow right">&#10095;</button>
                </div>
                <select id="selectGrass" class="product-select">
                    <option data-price="26" data-link="https://pay.zaprite.com/pl_HPOj74qYDj" data-front="images/16oz_grassfed_front.jpg" data-back="images/16oz_grassfed_back.jpg">8 oz</option>
                    <option selected data-price="41" data-link="https://pay.zaprite.com/pl_2qyFeeGMIx" data-front="images/16oz_grassfed_front.jpg" data-back="images/16oz_grassfed_back.jpg">16 oz</option>
                    <!-- <option data-price="60" data-link="#" data-front="images/16oz_grassfed_front.jpg" data-back="images/16oz_grassfed_back.jpg">32 oz</option> -->
                </select>
                <a href="https://pay.zaprite.com/pl_2qyFeeGMIx" target="_blank" rel="noopener noreferrer" class="buy-button" id="buyButtonGrass">Buy Now</a>
            </div>
    </div>
</section>

        
        <section class="info-section what-is-ghee">
            <h2>What is Ghee?</h2>
            <p>Ghee, or clarified butter, is made by simmering butter to remove water, milk solids, and impurities, leaving behind a golden, lactose-free oil with a nutty flavor and high smoke point (around 485°F/252°C). Unlike regular butter, ghee is shelf-stable and versatile for cooking, baking, or even skincare.</p>
        </section>

        <section class="chart-section">
            <h2>There is No Second Best Animal Fat to Cook With</h2>
            <div class="chart-carousel">
                <button class="chart-arrow left">&#10094;</button>
                <img src="images/chart1.png" 
                     alt="Chart 1: Animal Fat Comparison" 
                     class="chart-img gallery-img" 
                     id="chart-display" 
                     data-caption="Animal Fat Comparison Charts - Click to view fullscreen"
                     loading="lazy">
                <button class="chart-arrow right">&#10095;</button>
            </div>
        </section>

        
        <section class="info-section health-benefits">
            <h2>Health Benefits From Cooking With Cow Ghee</h2>
            <p>Ghee from the Virginia Shenandoah Valley is a nutritional powerhouse. Derived from cows grazing on local pastures, it offers higher levels of essential nutrients compared to conventional alternatives. Here are some key benefits backed by nutritional science:</p>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <h3>Rich in Vitamins</h3>
                    <p>Packed with fat-soluble vitamins A, D, E, and K, which support eye health, immune function, bone strength, and skin vitality. Vitamin A, in particular, promotes healthy vision and glowing skin.</p>
                </div>
                <div class="benefit-card">
                    <h3>Digestive Support</h3>
                    <p>Contains butyrate, a short-chain fatty acid that nourishes gut cells, reduces inflammation, and aids digestion. It can help alleviate issues like constipation and irritable bowel syndrome (IBS).</p>
                </div>
                <div class="benefit-card">
                    <h3>Heart-Healthy Fats</h3>
                    <p>Provides conjugated linoleic acid (CLA) and omega-3s from grass-fed sources, which may support heart health, reduce bad cholesterol, and act as an anti-inflammatory agent.</p>
                </div>
                <div class="benefit-card">
                    <h3>Lactose-Free & Allergen-Friendly</h3>
                    <p>Free from lactose and casein, making it suitable for those with dairy sensitivities. It's a clean energy source that sustains without digestive discomfort.</p>
                </div>
                <div class="benefit-card">
                    <h3>Antioxidant Boost</h3>
                    <p>Loaded with antioxidants that combat oxidative stress, promote wound healing, and enhance collagen production for youthful skin and overall cellular health.</p>
                </div>
                <div class="benefit-card">
                    <h3>Weight Management Aid</h3>
                    <p>Healthy saturated fats act as a filler food, curbing hunger pangs and providing sustained energy. Moderate intake can support metabolic health and weight control.</p>
                </div>
            </div>
            <p class="note">These benefits are present in regular, pasture-raised ghee, but amplified in grass-fed ghee. Always consult a healthcare professional for personalized advice.</p>
        </section>
        
        <section class="info-section farm-gallery">
            <h2>GreatGhee in the Wild</h2>
            <div class="gallery-grid">
                <video class="gallery-video" controls>
                  <source src="images/ScreenRecording_07-23-2025 14-40-19_1.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
                <img src="images/Ryan_Review.png" class="gallery-img">
                <img src="images/Avi Review.png" class="gallery-img">
                <img src="images/Debstr Review.png" class="gallery-img">
                <img src="images/Laser Review.png" class="gallery-img">
                <img src="images/PDJ review.png" class="gallery-img">
                <img src="images/image-2025-08-28-094452.jpg" class="gallery-img">
                <img src="images/image-2025-08-28-094536.jpg" class="gallery-img">
                <img src="images/signal-2025-08-24-210818.jpeg" class="gallery-img">
                <img src="images/signal-2025-08-27-163229.jpeg" class="gallery-img">
                <img src="images/brisceaux_review.jpeg" class="gallery-img">
                <img src="images/gary_review.jpeg" class="gallery-img">
                <img src="images/Picture4.png" class="gallery-img">
            </div>
        </section>

        <section class="info-section affiliates-program">
            <h2>Join the GreatGhee 'Gheezers' Affiliates Program</h2>
            <p>Love GreatGhee? Help us spread the word and get rewarded! Our Gheezers Affiliates Program lets you earn commissions by promoting GreatGhee to your buddies, fans, or cult members. Below are the steps to join and get running:</p>
            <ul>
                <li><strong>Reach Out To GreatGhee:</strong> Either DM GreatGhee on NOSTR or email GreatGhee to join the program. Contact links at the bottom of this page.</li>
                <li><strong>Once You're In:</strong> Have the person you are referring put TWO (2) Lightning Addresses in the 'Note' field of the order: Their own Lightning Address, and Your Lightning Address. See the picture below as an example.</li>
                <li><strong>Get Paid:</strong> Once the order is submitted, 2.1% of the revenue from the sale will go to each lightning address in the form of sats.</li>
                <li><strong>PLEASE NOTE:</strong> You must be part of the program in order to participate. The lightning address of the person doing the referring must be registered with GreatGhee in order for the sats rebate to be eligible.</li>
            </ul>
            <div class="affiliate-image">
                <img src="images/affiliate_photo.png" class="gallery-img">
            </div>
        </section>

        
        <section class="info-section how-made">
            <h2>How We Make GreatGhee</h2>
            <p>Our ghee is handmade in small batches for unmatched quality:</p>
            <ol>
                <li><strong>Sourcing:</strong> Fresh milk from pasture-raised Holstein and Holstein-Jersey cows in Southwest Virginia.</li>
                <li><strong>Churning:</strong> Churn the milk into butter, separating the buttermilk from the butter.</li>
                <li><strong>Clarifying:</strong> Slowly simmered to separate the milk whey/fat from the clarified butter, resulting in pure golden ghee.</li>
                <li><strong>Bottling:</strong> Slowly set out to cool, filtered, and jarred.</li>
            </ol>
            <p>No fillers. No gimmicks. No sketchy sourcing.</p>
        </section>

    </main>
    
    <footer>
        <p>&copy; 2025 GreatGhee. All rights reserved.</p>
        <p>Contact us: greatghee@proton.me | <a href="https://primal.net/p/nprofile1qqsfnnh6v3dspqtnwv3e46aed5k3nypyfx2wtet92ekg9szt3hr9k4qq23uac" target="_blank" rel="noopener noreferrer">Follow GreatGhee on NOSTR</a></p>
    </footer>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox">
        <span class="close">&times;</span>
        <img class="lightbox-content" id="lightbox-img">
        <a class="prev">&#10094;</a>
        <a class="next">&#10095;</a>
        <div id="caption"></div>
    </div>

    <!-- Scripts -->
    <script>
        let btcPriceUSD = 0;

        const products = [
            {
                selectId: 'selectReg',
                buttonId: 'buyButtonReg',
                imageSliderId: 'sliderReg',
                options: [
                    { size: '8 oz', price: 18, front: 'images/16oz_regular_front.jpg', back: 'images/16oz_regular_back.jpg' },
                    { size: '16 oz', price: 27, front: 'images/16ozRegular.jpg', back: 'images/16oz_regular_back.jpg' },
                    { size: '32 oz', price: 41, front: 'images/32ozRegular.jpg', back: 'images/32oz_regular_back.jpg' }
                ]
            },
            {
                selectId: 'selectLiver',
                buttonId: 'buyButtonLiver',
                options: [
                    { size: '1-pack', price: 26 },
                    { size: '3-pack', price: 55 },
                    { size: '6-pack', price: 110 }
                ]
            },
            {
                selectId: 'selectGrass',
                buttonId: 'buyButtonGrass',
                imageSliderId: 'sliderGrass',
                options: [
                    { size: '8 oz', price: 26, front: 'images/16oz_grassfed_front.jpg', back: 'images/16oz_grassfed_back.jpg' },
                    { size: '16 oz', price: 41, front: 'images/16oz_grassfed_front.jpg', back: 'images/16oz_grassfed_back.jpg' },
                    { size: '32 oz', price: 60, front: 'images/16oz_grassfed_front.jpg', back: 'images/16oz_grassfed_back.jpg' }
                ]
            }
        ];

        async function fetchSatoshiPrices() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
                const data = await response.json();
                btcPriceUSD = data.bitcoin.usd;
                updateAllProducts();
            } catch (error) {
                console.error('Error fetching Bitcoin price:', error);
            }
        }

        function updateAllProducts() {
            products.forEach(product => {
                const select = document.getElementById(product.selectId);
                if (!select) return;

                product.options.forEach((opt, idx) => {
                    const sats = btcPriceUSD ? Math.round((opt.price / btcPriceUSD) * 100000000) : 0;
                    const formattedSats = sats.toLocaleString() || 'N/A';
                    const left = opt.size.padEnd(10, ' ');
                    const right = `$${opt.price} / ${formattedSats} sats`;
                    select.options[idx].text = left + right;
                });

                updateButton(product);
            });
        }

        function updateButton(product) {
            const select = document.getElementById(product.selectId);
            const button = document.getElementById(product.buttonId);
            if (!select || !button) return;

            const idx = select.selectedIndex;
            const link = select.options[idx].dataset.link;

            if (link === '#') {
                button.textContent = 'Coming Soon';
                button.href = '#';
                button.classList.add('disabled');
            } else {
                // Only show "Buy Now" without price information
                button.textContent = 'Buy Now';
                button.href = link;
                button.classList.remove('disabled');
            }

            // Update image if applicable
            if (product.imageSliderId) {
                const slider = document.getElementById(product.imageSliderId);
                if (slider) {
                    const img = slider.querySelector('img');
                    const opt = product.options[idx];
                    if (opt.front) {
                        img.src = opt.front;
                        img.dataset.altSrc = opt.back;
                    }
                }
            }
        }

        // Update the prices initially and then every 60 seconds
        fetchSatoshiPrices();
        setInterval(fetchSatoshiPrices, 60000);

        // Add event listeners for select changes
        window.addEventListener('load', () => {
            products.forEach(product => {
                const select = document.getElementById(product.selectId);
                if (select) {
                    select.addEventListener('change', () => updateButton(product));
                }
            });
            preloadImages();
        });
    </script>

    <script>
        // Chart carousel functionality and data
        const chartImages = ["images/chart1.png", "images/chart2.png", "images/chart3.jpg"];
        const chartCaptions = [
            "Chart 1: Animal Fat Comparison",
            "Chart 2: Nutritional Analysis", 
            "Chart 3: Health Benefits Overview"
        ];
        let currentChart = 0;

        const chartDisplay = document.getElementById('chart-display');
        const chartLeft = document.querySelector('.chart-arrow.left');
        const chartRight = document.querySelector('.chart-arrow.right');

        function updateChart(index) {
            chartDisplay.src = chartImages[index];
            chartDisplay.setAttribute('data-caption', chartCaptions[index]);
        }

        chartLeft.addEventListener('click', (e) => {
            e.stopPropagation(); // Prevent lightbox from opening
            currentChart = (currentChart - 1 + chartImages.length) % chartImages.length;
            updateChart(currentChart);
        });

        chartRight.addEventListener('click', (e) => {
            e.stopPropagation(); // Prevent lightbox from opening
            currentChart = (currentChart + 1) % chartImages.length;
            updateChart(currentChart);
        });

        // Image preloading to fix loading issues
        function preloadImages() {
            const imageUrls = [
                ...chartImages,
                'images/16oz_grassfed_front.jpg',
                'images/16oz_grassfed_back.jpg',
                'images/16oz_regular_front.jpg',
                'images/16oz_regular_back.jpg',
                'images/32oz_regular_front.jpg',
                'images/32oz_regular_back.jpg'
            ];

            imageUrls.forEach(url => {
                const img = new Image();
                img.src = url;
            });
        }
    </script>

    <script>
        // Product image slider functionality (non-fullscreen)
        document.querySelectorAll('.image-slider').forEach(slider => {
            const img = slider.querySelector('img');
            const originalSrc = img.src;
            const altSrc = img.getAttribute('data-alt-src');
            let showingAlt = false;

            function toggleImage() {
                if (showingAlt) {
                    img.src = originalSrc;
                    showingAlt = false;
                } else {
                    img.src = altSrc;
                    showingAlt = true;
                }
            }

            // Click arrow support
            slider.querySelector('.left').addEventListener('click', (e) => {
                e.stopPropagation();
                toggleImage();
            });
            
            slider.querySelector('.right').addEventListener('click', (e) => {
                e.stopPropagation();
                toggleImage();
            });

            // Touch swipe support
            let touchStartX = 0;
            let touchEndX = 0;

            img.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });

            img.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });

            function handleSwipe() {
                const deltaX = touchEndX - touchStartX;
                if (Math.abs(deltaX) > 50) {
                    e.stopPropagation();
                    toggleImage();
                }
            }
        });
    </script>

    <script>
        // Enhanced lightbox functionality with chart, gallery, and product image support
        const modal = document.getElementById('lightbox');
        const modalImg = document.getElementById("lightbox-img");
        const captionText = document.getElementById("caption");
        const closeBtn = document.querySelector('.close');
        const prevBtn = document.querySelector('.prev');
        const nextBtn = document.querySelector('.next');

        let currentImageData = null;
        let isProductImage = false;
        let isChartImage = false;
        let productArrows = null;

        // Get all gallery images
        const images = document.querySelectorAll('.gallery-img');
        let currentIndex = 0;

        function openModal(index, productData = null, chartData = null) {
            currentIndex = index;
            isProductImage = !!productData;
            isChartImage = !!chartData;
            currentImageData = productData || chartData;
            
            // Clean up any existing product arrows
            if (productArrows) {
                productArrows.left?.remove();
                productArrows.right?.remove();
                productArrows = null;
            }
            
            if (isProductImage) {
                setupProductLightbox();
                // Hide regular arrows for product images
                prevBtn.style.display = 'none';
                nextBtn.style.display = 'none';
            } else if (isChartImage) {
                setupChartLightbox();
                // Show regular arrows for chart navigation
                prevBtn.style.display = 'block';
                nextBtn.style.display = 'block';
            } else {
                updateModal();
                // Show regular arrows for gallery images
                prevBtn.style.display = 'block';
                nextBtn.style.display = 'block';
            }
            
            modal.style.display = "flex";
            document.body.style.overflow = 'hidden';
        }

        function setupProductLightbox() {
            modalImg.src = currentImageData.currentSrc;
            captionText.innerHTML = currentImageData.alt;
            
            // Create product-specific arrows
            const leftArrow = document.createElement('button');
            leftArrow.className = 'product-arrow left';
            leftArrow.innerHTML = '&#10094;';
            leftArrow.onclick = toggleProductImage;
            
            const rightArrow = document.createElement('button');
            rightArrow.className = 'product-arrow right';
            rightArrow.innerHTML = '&#10095;';
            rightArrow.onclick = toggleProductImage;
            
            modal.appendChild(leftArrow);
            modal.appendChild(rightArrow);
            
            productArrows = { left: leftArrow, right: rightArrow };
        }

        function setupChartLightbox() {
            modalImg.src = currentImageData.currentSrc;
            captionText.innerHTML = currentImageData.caption;
        }

        function toggleProductImage() {
            if (currentImageData.showingAlt) {
                modalImg.src = currentImageData.originalSrc;
                currentImageData.showingAlt = false;
                currentImageData.currentSrc = currentImageData.originalSrc;
            } else {
                modalImg.src = currentImageData.altSrc;
                currentImageData.showingAlt = true;
                currentImageData.currentSrc = currentImageData.altSrc;
            }
        }

        function updateModal() {
            modalImg.src = images[currentIndex].src;
            captionText.innerHTML = images[currentIndex].getAttribute('data-caption') || '';
        }

        function navigateChart(direction) {
            let newIndex = direction === 'next' 
                ? (currentImageData.chartIndex + 1) % chartImages.length
                : (currentImageData.chartIndex - 1 + chartImages.length) % chartImages.length;
            
            currentImageData.chartIndex = newIndex;
            currentImageData.currentSrc = chartImages[newIndex];
            currentImageData.caption = chartCaptions[newIndex];
            
            modalImg.src = currentImageData.currentSrc;
            captionText.innerHTML = currentImageData.caption;
        }

        function closeModal() {
            modal.style.display = "none";
            document.body.style.overflow = '';
            
            // Clean up product arrows
            if (productArrows) {
                productArrows.left?.remove();
                productArrows.right?.remove();
                productArrows = null;
            }
            
            // Reset arrow visibility
            prevBtn.style.display = 'block';
            nextBtn.style.display = 'block';
        }

        // Close modal
        closeBtn.onclick = closeModal;

        // Navigation for gallery and chart images
        prevBtn.onclick = function() {
            if (isChartImage) {
                navigateChart('prev');
            } else if (!isProductImage) {
                currentIndex = (currentIndex > 0) ? currentIndex - 1 : images.length - 1;
                updateModal();
            }
        }

        nextBtn.onclick = function() {
            if (isChartImage) {
                navigateChart('next');
            } else if (!isProductImage) {
                currentIndex = (currentIndex < images.length - 1) ? currentIndex + 1 : 0;
                updateModal();
            }
        }

        // Add click events to all gallery images
        images.forEach((img, index) => {
            img.onclick = function() {
                // Check if it's a chart image
                if (img.id === 'chart-display') {
                    const chartData = {
                        currentSrc: img.src,
                        caption: img.getAttribute('data-caption'),
                        chartIndex: currentChart
                    };
                    openModal(index, null, chartData);
                }
                // Check if it's a product image
                else if (img.closest('.image-slider') && img.classList.contains('product-img')) {
                    const productData = {
                        originalSrc: img.src,
                        altSrc: img.getAttribute('data-alt-src'),
                        currentSrc: img.src,
                        alt: img.alt,
                        showingAlt: false
                    };
                    openModal(index, productData);
                }
                // Regular gallery image
                else {
                    openModal(index);
                }
            }
        });

        // Close when clicking outside
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }

        // Click image to toggle for product images
        modalImg.onclick = function() {
            if (isProductImage) {
                toggleProductImage();
            }
        }

        // Keyboard support
        document.addEventListener('keydown', function(event) {
            if (modal.style.display === "flex") {
                if (event.key === 'Escape') {
                    closeModal();
                } else if (event.key === 'ArrowLeft') {
                    if (isProductImage) {
                        toggleProductImage();
                    } else {
                        prevBtn.click();
                    }
                } else if (event.key === 'ArrowRight') {
                    if (isProductImage) {
                        toggleProductImage();
                    } else {
                        nextBtn.click();
                    }
                }
            }
        });
    </script>

</body>
</html>
